## アプリケーション名
BookDiary

## アプリケーション概要
読んだ本の感想を書いて保存することが出来るアプリケーションです。本を検索して詳細な書籍情報を取得することも出来ます。
<br>また、読書履歴からお薦めの本を紹介してもらうことも出来ます。

## URL
https://book-diary-42117.onrender.com

## テスト用アカウント
Basic認証アカウント：admin42117
Basic認証パスワード：pass42117
テスト用Email：test@mail.com
テスト用Password：testpass12

## 利用方法
＜本を検索する機能、本の感想を投稿する機能の使い方＞
1. URLにアクセスし、ヘッダー右上の「ログイン」ボタンからログイン画面に移動します。
2. テスト用アカウントを使用しログインします。
3. トップページに本のタイトル・著者・isbnのいずれかの情報を入力して「検索」ボタンを押下します（タイトルと著者は組み合わせて検索できます）。
4. 検索結果から自分が読んだ本のタイトルまたは画像を押下すると感想投稿ページに遷移するので、自分が思ったジャンル1・自分が思ったジャンル2・あらすじ・感想を入力して「投稿」ボタンを押下します。
※自分が思ったジャンル1・感想は入力必須です。
※あらすじは自分で書き直すこともできます。
5. 自動的にマイページに遷移し、自分が今まで投稿した感想が一覧で表示されます。

＜マイページ機能、本の感想の詳細を確認する機能、本の感想を編集する機能、本の感想を削除する機能の使い方＞
1. URLにアクセスし、ヘッダー右上の「ログイン」ボタンからログイン画面に移動します。
2. テスト用アカウントを使用しログインします。
3. ヘッダー右上のユーザー名が書かれたボタンを押下するとマイページに遷移し、自分が今まで投稿した感想が一覧で表示されます。
4. 本の感想の右上にある「詳細」ボタンを押下すると、本の感想の詳細を確認することが出来ます。
5. 本の感想の右上にある「編集」ボタンを押下すると、感想編集ページに遷移し、すでに投稿した本の感想を編集することが出来ます。
編集後に「編集」ボタンを押下すると編集内容が更新され、マイページへ遷移します。
6. 本の感想の右上にある「削除」ボタンを押下すると、投稿した本の感想を削除することが出来ます。

＜読書履歴からお薦めの本を検索する機能の使い方＞
1. URLにアクセスし、ヘッダー右上の「ログイン」ボタンからログイン画面に移動します。
2. テスト用アカウントを使用しログインします。
3. ヘッダー右上のユーザー名が書かれたボタンを押下してマイページに遷移し、「読書履歴からお薦めの本を検索」ボタンを押下します。
4. 「最も多く読まれたジャンルの本」と「最も多く読まれた著者の本」がお薦めとして一覧で表示されます。


## アプリケーションを作成した背景
読書が趣味なのですが、図書館で本を借りるときに次何を読もうか悩んだり、せっかく読んだのだから本の感想を記録に残したい、という
思いからBookDiaryを作成しました。


## 実装した機能についての画像やGIFおよびその説明
|ページ|説明|
|---|------------------|
|![トップページのGIF](URL_TO_GIF)|トップページ　　　　　　　　　　　　　　　　　　　　　　|
|![ユーザー機能のGIF](URL_TO_GIF)|ユーザー機能<br>・新規登録<br>・ログイン/ログアウト<br>・マイページ|
|![ツイート機能のGIF](URL_TO_GIF)|ツイート（呟き）機能<br>・投稿機能<br>・一覧機能<br>・詳細機能<br>・編集・削除機能|
|![コメント機能のGIF](URL_TO_GIF)|コメント機能|
|![検索機能のGIF](URL_TO_GIF)|検索機能|

## 実装予定の機能
- AIによる高精度のお薦めの本の検索機能
- 検索時間の短縮

## データベース設計
ER図を添付。
<br>AIで作る場合は、googleアカウントがあれば使用できる「Vercel v0」がオススメです。
<img width="307" alt="Image" src="https://github.com/user-attachments/assets/f780ed7f-e22c-495f-ad7d-5add7f75e45f" />


## 画面遷移図
画面遷移図を添付。
<br>AIで作る場合は、googleアカウントがあれば使用できる「Vercel v0」がオススメです。
<img width="509" alt="Image" src="https://github.com/user-attachments/assets/086ceb82-5286-4340-b4ff-014d621e4d26" />


## 開発環境
| 項目               | バージョン・サービス |
|------------------|-----------------|
| **言語**        | Ruby 3.2.0 |
| **フレームワーク** | Ruby on Rails 7.1.5.1 |
| **データベース**  | PostgreSQL（本番） / MySQL（開発） |
| **フロントエンド** | HTML / CSS / JavaScript |
| **テキストエディタ**    | VS Code |
| **認証機能**    | Devise |
| **テスト**    | DRSpec / FactoryBot |
| **API**    | RakutenBooksAPI |
| **デプロイ環境** | Render |
| **バージョン管理** | GitHub |


## 工夫したポイント
 - 本の検索：RakutenBooksAPIを使用し、正確な本の情報を検索できるようにしました。
 - ユーザーによるジャンル入力：読んだ本のジャンルと実際に自分が感じたジャンルに乖離があると感じ、本の感想を投稿する際にユーザー自身でジャンルを決定できるようにしました。
 - お薦めの本を検索：読書履歴から「最も多く読まれたジャンルの本」と「最も多く読まれた著者の本」の中でも評価やレビュー数が高い物を優先的に検索してくるロジックを組みましたまた、一部RakutenBooksAPIに存在しないジャンルはあらすじから推測して検索するようにしました。

## 制作時間
設計書の作成や情報収集　　　　　　：1週間
コーディング、テスト、発表資料作成：2週間

# テーブル設計

## users テーブル

| Column             | Type   | Options     |
| ------------------ | ------ | ----------- |
| email              | string | null: false, unique: true |
| encrypted_password | string | null: false |
| nickname           | string | null: false |

### Association

- has_many :reviews

## reviews テーブル

| Column                 | Type       | Options     |
| ---------------------- | ---------- | ----------- |
| title                  | string     | null: false |
| image_url              | string     |             |
| author                 | string     | null: false |
| publisher_name         | string     | null: false |
| isbn                   | string     |             |
| books_genre_id         | string     |             |
| books_genre_name       | string     |             |
| tag_id1                | integer    | null: false |
| tag_id2                | integer    |             |
| item_caption           | text       |             |
| comment                | text       | null: false |
| user                   | references | null: false, foreign_key: true |

### Association

- belongs_to :user